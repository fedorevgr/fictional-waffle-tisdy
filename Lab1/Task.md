# Отчет

## Описание и условия задачи

Смоделировать операцию умножения действительного числа на действительное число в форме ±m.n Е ±K, где суммарная длина
мантиссы первого сомножителя (m+n) - до 35 значащих цифр, второго – до 40 значащих цифр, а величина порядка K - до 5
цифр. Результат выдать в форме ±0.m1 Е ±K1, где m1 – до 40 значащих цифр, а K1 - до 5 цифр.

## ТЗ

Написать программу, по следующим требованиям

| Раздел | Описание                                                                                                                                                   |
|--------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Основа | Умножает 2 действительных числа                                                                                                                            |
| Ввод   | Позволяет ввести число, следующими образами: <br> - Целое число <br> - С плавающей точкой <br> - В экспоненциальной форме <br> - Комбинации вышеописанного |
| Вывод  | Вывод в нормализованной форме <br> Предусмотреть машинный ноль и бесконечность                                                                             |
| Ошибки | Обработать возможный некорректный ввод пользователя                                                                                                        |

Ограничения:

- Количество значащих чисел для первого числа - 35, 40 - для второго
- Длина вводимой строки не более 60
- Порядок числа по модулю не превышает 99999

### Обращение к программе

Вызывается исполняемый файл, далее вводятся числа в вышеописаной форме записи

### Описание некорректного ввода

| № | Ввод           | Вывод  | Пояснение                       |
|---|----------------|--------|---------------------------------|
| 1 | abc <br> 1     | Ошибка |                                 |
| 2 | 0.0...1 <br> 1 | Ошибка | Кол-во значащих чисел больше 35 |
| 3 | 1e99999 <br> 1 | Ошибка | Порядок числа больше 99999      |
| 4 | aboba          | Ошибка |                                 |
| 5 | 1ee10          | Ошибка |                                 |
| 6 | 1e++10         | Ошибка |                                 |
| 5 | 1..1e10        | Ошибка |                                 |

## Внутренняя структура

Структура числа

```c
typedef struct NumberStruct
{
    bool sign;
    int exponent;
    int value[VALUE_LENGTH_LIMIT + 1];
    int valueLength;
    int mathStatus;
    bool posFirst;
} Number;
```

`sign` - знак числа

`exponent` - экспонента числа

`value` - значение мантиссы

`valueLength` - длина мантиссы

`mathStatus` - является, ли число

`posFirst` - для обеспечения корректного ввода

Коды возврата

```c
typedef enum ExitCode
{
    OK,
    ERROR,
    ERROR_VALIDATION,
    ERROR_RESULT,
    ERROR_LIMITS
} ExitCode;
```

## Алгоритм

Алгоритм умножения в столбик

Алгоритм:

1) Разворачиваются записи чисел
2) Записи поразрядно перемножаются и результат умножения записывается в буффер
3) После каждой записи в буффер, в буффере переносятся избытки на старшие разряды
4) Вычислить длину новой записи
5) Если длина записи больше 40, обрезать число и округлить
6) Если после обрезания последнее число больше 9, то выровнять число
7) Посчитать экспоненту
8) Записать буффер, экспоненту, длину в новое число
9) Если экспонента по модулю больше 99999 пометить число, как машинный ноль или бесконечность

## Тесты

### Позитивные

| №  | Ввод                                                                     | Вывод                                      | Пояснение                      |
|----|--------------------------------------------------------------------------|--------------------------------------------|--------------------------------|
| 1  | 1 <br> 1                                                                 | +0.1e1                                     | Нормальная работа              |
| 2  | 10 <br> 1                                                                | +0.1e2                                     | Правила подсчета экспоненты    |
| 3  | 0.1 <br> 1                                                               | +0.1e0                                     | Считывание не целых чисел      |
| 4  | 1 <br> 1e-100                                                            | +0.1e-99                                   | Результат очень маленько число |
| 5  | 9000000000009 <br> 1000000000001                                         | +0.9000000000018000000000009e25            | Нормальная работа              |
| 6  | 90000000000000000000000000000000009  10000000000000000000000000000000001 | +0.900000000000000000000000000000000018e69 | Округление                     |
| 7  | .1e99999 .1e99999                                                        | +INF                                       | Машинная бесконечность         |
| 8  | 1e-99999 .1e-99999                                                       | ZERO                                       | Машинный ноль                  |
| 9  | 1 0                                                                      | 0.0e0                                      | Умножение на 0                 |
| 10 | 0.00000000000000000000000000000000001 0.0000000000000000000000000000001  | 0.1e-69                                    | Округление до нуля             |
| 11 | 12.34 56.78                                                              | 0.7006652e3                                | Нормальная работа              |
| 12 | 12.34 1234567890.1234567890                                              | 0.15234567764123455e11                     | Нормальная работа              |

### Негативные

| №  | Ввод                                         | Пояснение                   |
|----|----------------------------------------------|-----------------------------|
| 1  | abc                                          | Неправильный формат         | 
| 2  | 1e                                           | Неправильный формат         |
| 3  | 1ee1                                         | Неправильный формат         |
| 4  | 1e++1                                        | Неправильный формат         |
| 5  | 1e1.3                                        | Неправильный формат         |
| 6  | 0.000000000000000000000000000000000001       | Переполнение знаковой части |
| 7  | 0.00000000000000000000000000000000001e-99999 | Переполнение экспоненты     |
| 8  | 1e1099101                                    | Переполнение экспоненты     |
| 9  | 1ae111111                                    | Неправильный формат         |
| 10 | 1.e1                                         | Неправильный формат         |

## Выводы

В результате выполнения лабораторной работы, я понял, происходит машинное умножение, а также как реализовать свою
систему, если такая понадобится

<!-- 
Общие требования к сдаче и оформлению лабораторных работ
Использовать язык С. Лабораторные работы сдаются лично.
К сдаче принимается отчет и отлаженная программа, которая должны быть
с комментариями.
Отчет, должен содержать:
1) описание условия задачи;
2) техническое задание (ТЗ), написанное в
соответствии со структурой, приведенной ниже;
3) описание внутренних структур данных;
4) описанный алгоритм;
5) набор тестов, с указанием, что проверяется;
6) оценку эффективности;
7) выводы по проделанной работе.
В ТЗ обязательно должна быть внешняя спецификация программы,
содержащая:
–описание исходных данных и результатов (то есть, типы, форматы,
точность, способ передачи, ограничения);
–описание задачи, реализуемой программой;
–способ обращения к программе;
–описание возможных аварийных ситуаций и ошибок пользователя.
Кроме того, в отчете должно быть обоснование выбора внутренних структур
данных и алгоритмов.
Отчет принимается в электронном виде -->